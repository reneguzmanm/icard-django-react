{"ast":null,"code":"import { BASE_API } from '../utils/constants';\nexport async function loginApi(formValue) {\n  try {\n    const url = `${BASE_API}/api/auth/login/`;\n    const params = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(formValue)\n    };\n    const response = await fetch(url, params);\n\n    if (response.status !== 200) {\n      throw new Error(\"Usuario o contraseña incorrectos\");\n    }\n\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function getMeApi(token) {\n  try {\n    const url = `${BASE_API}/api/auth/me/`;\n    const params = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const response = await fetch(url, params);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}","map":{"version":3,"sources":["C:/Cursos/Full/icard/icard_react/icard/src/api/user.js"],"names":["BASE_API","loginApi","formValue","url","params","method","headers","body","JSON","stringify","response","fetch","status","Error","result","json","error","getMeApi","token","Authorization"],"mappings":"AAAA,SAASA,QAAT,QAAyB,oBAAzB;AAEA,OAAO,eAAeC,QAAf,CAAwBC,SAAxB,EAAkC;AACrC,MAAG;AACC,UAAMC,GAAG,GAAI,GAAEH,QAAS,kBAAxB;AACA,UAAMI,MAAM,GAAG;AACXC,MAAAA,MAAM,EAAE,MADG;AAEXC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFE;AAKXC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,SAAf;AALK,KAAf;AAOA,UAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAACR,GAAD,EAAMC,MAAN,CAA5B;;AAEA,QAAGM,QAAQ,CAACE,MAAT,KAAoB,GAAvB,EAA2B;AACvB,YAAM,IAAIC,KAAJ,CAAU,kCAAV,CAAN;AACH;;AACD,UAAMC,MAAM,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAArB;AACA,WAAOD,MAAP;AACH,GAhBD,CAgBE,OAAME,KAAN,EAAY;AACV,UAAMA,KAAN;AACH;AACJ;AAED,OAAO,eAAeC,QAAf,CAAwBC,KAAxB,EAA8B;AACjC,MAAI;AACA,UAAMf,GAAG,GAAI,GAAEH,QAAS,eAAxB;AACA,UAAMI,MAAM,GAAG;AACXE,MAAAA,OAAO,EAAE;AACLa,QAAAA,aAAa,EAAG,UAASD,KAAM;AAD1B;AADE,KAAf;AAKA,UAAMR,QAAQ,GAAG,MAAMC,KAAK,CAACR,GAAD,EAAMC,MAAN,CAA5B;AACA,UAAMU,MAAM,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAArB;AACA,WAAOD,MAAP;AACH,GAVD,CAUE,OAAOE,KAAP,EAAc;AACZ,UAAMA,KAAN;AACH;AACJ","sourcesContent":["import { BASE_API } from '../utils/constants';\r\n\r\nexport async function loginApi(formValue){\r\n    try{\r\n        const url = `${BASE_API}/api/auth/login/`;\r\n        const params = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(formValue),\r\n        };\r\n        const response = await fetch(url, params);\r\n\r\n        if(response.status !== 200){\r\n            throw new Error(\"Usuario o contraseña incorrectos\")\r\n        }\r\n        const result = await response.json();\r\n        return result;\r\n    } catch(error){\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function getMeApi(token){\r\n    try {\r\n        const url = `${BASE_API}/api/auth/me/`;\r\n        const params = {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        }\r\n        const response = await fetch(url, params);\r\n        const result = await response.json()\r\n        return result;\r\n    } catch (error) {\r\n        throw error;        \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}